/*
asli:
TAHUN CHAR(4) NOT NULL,
KODEURUSAN INTEGER NOT NULL,
KODESUBURUSAN INTEGER NOT NULL,
KODEORGANISASI VARCHAR(5) NOT NULL,
KODEDESA VARCHAR(5) NOT NULL,
URAI VARCHAR(255) NOT NULL,
ALAMAT VARCHAR(255),
NOTELP VARCHAR(30),
NOFAX VARCHAR(30),
EMAIL VARCHAR(50),
LOCK INTEGER,
LOCK_P INTEGER,
procedure: INST_KEC_DESA(:null)
*/
FOR SELECT TAHUN, KODEURUSAN, KODESUBURUSAN, KODEORGANISASI, KODEDESA, URAI, ALAMAT, NOTELP, NOFAX, EMAIL, LOCK, LOCK_P
FROM master_organisasi
ORDER BY TAHUN, KODEURUSAN, KODESUBURUSAN, KODEORGANISASI, KODEDESA ASC
INTO :TAHUN, :KODEURUSAN, :KODESUBURUSAN, :KODEORGANISASI, :KODEDESA, :X_URAI, :ALAMAT, :NOTELP, :NOFAX, :EMAIL, :LOCK, :LOCK_P DO
BEGIN
	KODEFIKASI = LZERO(KODEURUSAN, 2, 0) || '.' || LZERO(KODESUBURUSAN, 2, 0) || '.' || KODEORGANISASI;
	IF(:KODEDESA = '') THEN BEGIN
		URAI_KEC = :X_URAI;
		URAI = URAI_KEC;
		KODE_PEN = KODEORGANISASI;
	END ELSE BEGIN
		URAI = URAI_KEC || ' - ' || :X_URAI;
		URAI_DESA = :X_URAI;
		KODE_PEN = KODEORGANISASI || '-' || KODEDESA;
		KODEFIKASI = KODEFIKASI || '-' || KODEDESA;
	END
	KODE_PAN = KODEURUSAN || '-' || KODESUBURUSAN || '-' || KODE_PEN;
	SUSPEND;
END